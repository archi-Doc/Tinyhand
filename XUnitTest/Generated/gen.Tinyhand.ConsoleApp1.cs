using System;
using System.Collections.Generic;
using System.Runtime.CompilerServices;
using Tinyhand;
using Tinyhand.IO;
using Tinyhand.Resolvers;

// <auto-generated/>
#nullable enable
#pragma warning disable CS1591

namespace ConsoleApp1
{
    public partial class TestClass : ITinyhandSerialize, ITinyhandReconstruct
    {
        public void Serialize(ref TinyhandWriter writer, TinyhandSerializerOptions options)
        {
            writer.WriteArrayHeader(3);
            writer.Write(this.x);
            writer.WriteNil();
            writer.Write(this.y);
        }
        public void Deserialize(ref TinyhandReader reader, TinyhandSerializerOptions options)
        {
            var numberOfData = reader.ReadArrayHeader();
            options.Security.DepthStep(ref reader);
            try
            {
                if (numberOfData-- > 0 && !reader.TryReadNil())
                {
                    this.x = reader.ReadInt32();
                }
                else
                {
                    this.x = 0;
                }
                if (numberOfData-- > 0) reader.Skip();
                if (numberOfData-- > 0 && !reader.TryReadNil())
                {
                    this.y = reader.ReadInt32();
                }
                else
                {
                    this.y = 0;
                }
                while (numberOfData-- > 0) reader.Skip();
            }
            finally { reader.Depth--; }
        }
        public void Reconstruct(TinyhandSerializerOptions options)
        {
        }
    }
}
